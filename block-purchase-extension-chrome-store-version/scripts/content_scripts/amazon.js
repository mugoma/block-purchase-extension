var e={90:(e,t,n)=>{n.d(t,{A0:()=>g,Bw:()=>c,Di:()=>o,NR:()=>a,Rw:()=>s,VL:()=>r,Wi:()=>m,_S:()=>l,cV:()=>d,iu:()=>i,mQ:()=>u});const o="pmpux_feature_div",r="customer-reviews_feature_div",i="acrPopover",c=["submit.add-to-cart","add-to-cart-button","submit.buy-now","buy-now-button"],l="set-timer",s="reset-timer",a="delete-timer",d="get-product-price",u="redirect",m="source",g="reflection"},425:(e,t,n)=>{n.d(t,{$:()=>i});var o=n(454),r=n(90);function i(){chrome.runtime.onMessage.addListener((function(e,t,n){const i=e.action,c=e.initiator;if(null!==i&&"popup"==c){if(i==r._S){const t=e.endTime;(0,o.Uv)(r.Bw,[],t)}else if(i==r.NR)(0,o.LN)(r.Bw,["dull-buy-btn"],[]);else if(i==r.Rw){const t=e.endTime;(0,o.LN)(r.Bw,["dull-buy-btn"],[]),(0,o.Uv)(r.Bw,[],t)}}else i==r.cV&&n((0,o.t_)())}))}},454:(e,t,n)=>{n.d(t,{Ig:()=>B,K$:()=>I,LN:()=>L,Lj:()=>a,Uv:()=>w,Yi:()=>l,Zx:()=>d,_q:()=>m,_u:()=>s,fj:()=>E,rC:()=>v,t_:()=>S,vK:()=>g,vQ:()=>x,vq:()=>b,we:()=>_}),n(90);var o,r=n(932);const i="existing-timer-container",c="cls-hidden",l="options-page-link",s="how-to-use-page-link",a="stats-page-link",d="cs_cta_btn",u="completed-timer-container",m="my-statistics.html",g="how-to-use.html",f="Start Timer",p="attach-base-product-price";function v(){const e=document.createElement("div"),t=document.createElement("button");return t.classList.add("btn","btn-pill","background-brown","text-white","text-center"),t.setAttribute("id",d),t.setAttribute("data-has-timer","false"),t.setAttribute("title","You can cancel the timer from the extension popup."),e.appendChild(t),e}function h(e,t,n="",r=!0){const c=1==r?1e3:6e4;var l=new Date(e).getTime()-Date.now();return!(l<=0)&&(o=setInterval((()=>{const e=Math.floor(l/1e3),s=Math.floor(e/3600),a=Math.floor(e%3600/60),d=Math.floor(e%60),m=!0===r?`:${d.toString().padStart(2,"0")}`:"",g=`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}${m}`,f=document.getElementById(t);f&&(f.innerHTML=n+g),(l-=c)<=0&&(clearInterval(o),y(!1,document.getElementById(i)),function(e){y(e,document.getElementById(u))}(!0))}),c),!0)}function y(e,t){null!==t&&(!0===e?t.classList.remove(c):t.classList.add(c))}function E(){return window.location.href}function b(e=[],t=[]){(0,r.bH)(E()).then((n=>{null!=n&&"string"==typeof n&&new Date(n).getTime()>Date.now()&&w(e,t,String(n))}))}function w(e=[],t=[],n){(function(e=[],t,n=[],o=["dull-buy-btn"]){e.forEach((e=>{!function(e,t,n=[],o=["dull-buy-btn"]){const r=document.getElementById(e);if(null!=r){n.length>0&&r.classList.remove(...n),r.classList.add(...o);const e="Timer will end at "+new Date(t).toLocaleString();r.setAttribute("title",e)}}(e,t,n,o)}))})(e,n,t),function(e,t=!1){h(e,d,"",t)}(n,!0)}function L(e=[],t=["dull-buy-btn"],n=[]){clearInterval(o),function(e=[],t=["dull-buy-btn"],n=[]){e.forEach((e=>{!function(e,t=[],n=["dull-buy-btn"]){const o=document.getElementById(e);null!=o&&(n.length>0&&o.classList.add(...t),o.classList.remove(...n),o.removeAttribute("title"))}(e,n,t)}))}(e,t,n),x()}function B(){chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():_("options.html")}function I(e){return chrome.runtime.getURL("pages/"+e)}function _(e){window.open(function(e){return chrome.runtime.getURL("../pages/"+e)}(e))}function S(){const e=document.getElementById(p);return e?e.value:0}function x(){const e=document.getElementById(d);null!==e&&(e.innerText=f,e.setAttribute("data-has-timer","false"))}},932:(e,t,n)=>{function o(e){return new Promise((t=>{chrome.storage.local.get(e,(n=>{t(void 0===n[e]?void 0:n[e].time)}))}))}n.d(t,{bH:()=>o}),n(90)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=n(90),r=n(454);const i="reflection_reason_why_",c="reflection_reason_why_not_";function l(e){return null!=e?"reflection_"+String(e):null}function s(){return new URLSearchParams(window.location.search).get(o.Wi)}document.getElementById(r.Yi)?.addEventListener("click",(()=>{(0,r.Ig)()})),document.getElementById(r._u)?.addEventListener("click",(()=>{(0,r.we)(r.vK)})),document.getElementById(r.Lj)?.addEventListener("click",(()=>{(0,r.we)(r._q)}));document.addEventListener("DOMContentLoaded",(()=>{const e=l(s());chrome.storage.local.get(e).then((t=>{if(e){const n=t[e];if(n)for(let e=1;e<4;e++){const t=i+String(e),o=c+String(e),r=document.getElementById(t),l=document.getElementById(o);r.value=n[t],l.value=n[o]}}}))}));const a=document.getElementById("save");a&&a.addEventListener("click",(()=>{if(document.getElementById("reflection_form").reportValidity()){let e={};for(let t=1;t<4;t++){const n=i+String(t),o=c+String(t),r=document.getElementById(n),l=document.getElementById(o);e[n]=r.value,e[o]=l.value}const t=l(s()),n={storageKey:e};t&&(n[t]=e,chrome.storage.local.set(n).then((()=>{const e=document.getElementById("status");e&&(e.textContent="Responses saved. Redirecting you back to the shopping page",setTimeout((()=>{e.textContent="";const t=s();t&&(window.location.href=t)}),2e3))})))}}));const d=document.getElementById("reset");d&&d.addEventListener("click",(()=>{const e=l(s());e&&chrome.storage.local.remove(e).then((()=>{for(let e=1;e<4;e++){const t=i+String(e),n=c+String(e),o=document.getElementById(t),r=document.getElementById(n);o.value="",r.value=""}}))}));const u=document.getElementById("go_to_shopping_site");u&&u.addEventListener("click",(()=>{const e=s();e&&(window.location.href=e)}));var m=n(425);function g(){(0,m.$)(),function(){const e=document.getElementById(r.Zx);if(e)return Promise.resolve(e);let t=(0,r.rC)();const n=document.getElementById(o.Di);return null!==n&&null!==n.parentNode&&n.parentNode.insertBefore(t,n.nextSibling),Promise.resolve(t)}().then((e=>{(0,r.vQ)(),function(){const e=document.getElementById(r.Zx);null!==e&&e.addEventListener("click",(t=>{if(t.preventDefault(),"false"==e.getAttribute("data-has-timer")){const t=(0,r.fj)();chrome.runtime.sendMessage({action:o._S,url:t,initiator:"content-script",price:(0,r.t_)()}).then((e=>{(0,r.Uv)(o.Bw,[],e)})),e.setAttribute("data-has-timer","true")}}))}()})),(0,r.vq)(o.Bw,[]),chrome.storage.local.get({reviews:!0}).then((e=>{1==e.reviews&&function(){const e=document.getElementById(o.VL);null!==e&&function(e){const t=document.getElementById(o.iu)?.innerText,n="Click to Reveal",r=t?t+n:n,i=document.createElement("div");i.classList.add("spoiler-container"),i.classList.add("spoiler-container-blurred");const c=document.createElement("div");c.classList.add("spoiler-overlay");const l=document.createElement("span");l.classList.add("spoiler-text"),l.innerText=r,c.appendChild(l),i.appendChild(c),c.addEventListener("click",(function(){this.classList.add("display-none"),null!==this.parentElement&&this.parentElement.classList.remove("spoiler-container-blurred")})),null!==e.parentNode&&e.parentNode.insertBefore(i,e),i.appendChild(e)}(e)}()})),function(){const e={};e[o.A0]=!0,chrome.storage.local.get(e).then((e=>{if(1==e[o.A0]){const e=l((0,r.fj)());chrome.storage.local.get(l((0,r.fj)())).then((t=>{e&&(t[e]||Array.from(o.Bw).forEach((e=>{document.getElementById(e)?.addEventListener("click",(e=>{e.preventDefault(),chrome.runtime.sendMessage({action:o.mQ,url:(0,r.K$)("reflect.html")+"?"+o.Wi+"="+(0,r.fj)()})}))})))}))}}))}()}"loading"!==document.readyState?g():document.addEventListener("DOMContentLoaded",g);