var t={90:(t,e,n)=>{n.d(e,{Bw:()=>c,Di:()=>o,NR:()=>s,Rw:()=>l,VL:()=>r,_S:()=>a,cV:()=>d,iu:()=>i});const o="pmpux_feature_div",r="customer-reviews_feature_div",i="acrPopover",c=["submit.add-to-cart","add-to-cart-button","submit.buy-now","buy-now-button"],a="set-timer",l="reset-timer",s="delete-timer",d="get-product-price"},425:(t,e,n)=>{n.d(e,{$:()=>i});var o=n(454),r=n(90);function i(){chrome.runtime.onMessage.addListener((function(t,e,n){const i=t.action,c=t.initiator;if(null!==i&&"popup"==c){if(i==r._S){const e=t.endTime;(0,o.Uv)(r.Bw,[],e)}else if(i==r.NR)(0,o.LN)(r.Bw,["dull-buy-btn"],[]);else if(i==r.Rw){const e=t.endTime;(0,o.LN)(r.Bw,["dull-buy-btn"],[]),(0,o.Uv)(r.Bw,[],e)}}else i==r.cV&&n((0,o.t_)())}))}},454:(t,e,n)=>{n.d(e,{LN:()=>g,Uv:()=>b,Zx:()=>a,fj:()=>p,rC:()=>u,t_:()=>h,vQ:()=>y,vq:()=>v}),n(90);var o,r=n(932);const i="existing-timer-container",c="cls-hidden",a="cs_cta_btn",l="completed-timer-container",s="Start Timer",d="attach-base-product-price";function u(){const t=document.createElement("div"),e=document.createElement("button");return e.classList.add("btn","btn-pill","background-brown","text-white","text-center"),e.setAttribute("id",a),e.setAttribute("data-has-timer","false"),e.setAttribute("title","You can cancel the timer from the extension popup."),t.appendChild(e),t}function m(t,e,n="",r=!0){const c=1==r?1e3:6e4;var a=new Date(t).getTime()-Date.now();return!(a<=0)&&(o=setInterval((()=>{const t=Math.floor(a/1e3),s=Math.floor(t/3600),d=Math.floor(t%3600/60),u=Math.floor(t%60),m=!0===r?`:${u.toString().padStart(2,"0")}`:"",p=`${s.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}${m}`,v=document.getElementById(e);v&&(v.innerHTML=n+p),(a-=c)<=0&&(clearInterval(o),f(!1,document.getElementById(i)),function(t){f(t,document.getElementById(l))}(!0))}),c),!0)}function f(t,e){null!==e&&(!0===t?e.classList.remove(c):e.classList.add(c))}function p(){return window.location.href}function v(t=[],e=[]){(0,r.bH)(p()).then((n=>{null!=n&&"string"==typeof n&&new Date(n).getTime()>Date.now()&&b(t,e,String(n))}))}function b(t=[],e=[],n){(function(t=[],e,n=[],o=["dull-buy-btn"]){t.forEach((t=>{!function(t,e,n=[],o=["dull-buy-btn"]){const r=document.getElementById(t);if(null!=r){n.length>0&&r.classList.remove(...n),r.classList.add(...o);const t="Timer will end at "+new Date(e).toLocaleString();r.setAttribute("title",t)}}(t,e,n,o)}))})(t,n,e),function(t,e=!1){m(t,a,"",e)}(n,!0)}function g(t=[],e=["dull-buy-btn"],n=[]){clearInterval(o),function(t=[],e=["dull-buy-btn"],n=[]){t.forEach((t=>{!function(t,e=[],n=["dull-buy-btn"]){const o=document.getElementById(t);null!=o&&(n.length>0&&o.classList.add(...e),o.classList.remove(...n),o.removeAttribute("title"))}(t,n,e)}))}(t,e,n),y()}function h(){const t=document.getElementById(d);return t?t.value:0}function y(){const t=document.getElementById(a);null!==t&&(t.innerText=s,t.setAttribute("data-has-timer","false"))}},932:(t,e,n)=>{function o(t){return new Promise((e=>{chrome.storage.local.get(t,(n=>{e(void 0===n[t]?void 0:n[t].time)}))}))}n.d(e,{bH:()=>o}),n(90)}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o=n(90),r=n(454),i=n(425);function c(){(0,i.$)(),function(){const t=document.getElementById(r.Zx);if(t)return Promise.resolve(t);let e=(0,r.rC)();const n=document.getElementById(o.Di);return null!==n&&null!==n.parentNode&&n.parentNode.insertBefore(e,n.nextSibling),Promise.resolve(e)}().then((t=>{(0,r.vQ)(),function(){const t=document.getElementById(r.Zx);null!==t&&t.addEventListener("click",(e=>{if(e.preventDefault(),"false"==t.getAttribute("data-has-timer")){const e=(0,r.fj)();chrome.runtime.sendMessage({action:o._S,url:e,initiator:"content-script",price:(0,r.t_)()}).then((t=>{(0,r.Uv)(o.Bw,[],t)})),t.setAttribute("data-has-timer","true")}}))}()})),(0,r.vq)(o.Bw,[]),chrome.storage.local.get({reviews:!0}).then((t=>{1==t.reviews&&function(){const t=document.getElementById(o.VL);null!==t&&function(t){const e=document.getElementById(o.iu)?.innerText,n="Click to Reveal",r=e?e+n:n,i=document.createElement("div");i.classList.add("spoiler-container"),i.classList.add("spoiler-container-blurred");const c=document.createElement("div");c.classList.add("spoiler-overlay");const a=document.createElement("span");a.classList.add("spoiler-text"),a.innerText=r,c.appendChild(a),i.appendChild(c),c.addEventListener("click",(function(){this.classList.add("display-none"),null!==this.parentElement&&this.parentElement.classList.remove("spoiler-container-blurred")})),null!==t.parentNode&&t.parentNode.insertBefore(i,t),i.appendChild(t)}(t)}()}))}"loading"!==document.readyState?c():document.addEventListener("DOMContentLoaded",c);