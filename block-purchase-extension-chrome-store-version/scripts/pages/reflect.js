!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,(()=>(()=>{"use strict";var e={90:(e,t,n)=>{n.d(t,{Wi:()=>o});const o="source"},454:(e,t,n)=>{n.d(t,{Ig:()=>d,Lj:()=>i,Yi:()=>o,_q:()=>c,_u:()=>r,vK:()=>s,we:()=>l}),n(90),n(932);const o="options-page-link",r="how-to-use-page-link",i="stats-page-link",c="my-statistics.html",s="how-to-use.html";function d(){chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():l("options.html")}function l(e){window.open(function(e){return chrome.runtime.getURL("../pages/"+e)}(e))}},928:(e,t,n)=>{n.d(t,{addNavbarEventListeners:()=>r});var o=n(454);function r(){document.getElementById(o.Yi)?.addEventListener("click",(()=>{(0,o.Ig)()})),document.getElementById(o._u)?.addEventListener("click",(()=>{(0,o.we)(o.vK)})),document.getElementById(o.Lj)?.addEventListener("click",(()=>{(0,o.we)(o._q)}))}},932:(e,t,n)=>{n(90)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};n.r(o),n.d(o,{getReflectionStorageKey:()=>d,restoreOptions:()=>u,saveOptions:()=>a});var r=n(90),i=n(928);const c="reflection_reason_why_",s="reflection_reason_why_not_";function d(e){return null!=e?"reflection_"+String(e):null}function l(){return new URLSearchParams(window.location.search).get(r.Wi)}(0,i.addNavbarEventListeners)();const a=()=>{if(document.getElementById("reflection_form").reportValidity()){let e={};for(let t=1;t<4;t++){const n=c+String(t),o=s+String(t),r=document.getElementById(n),i=document.getElementById(o);e[n]=r.value,e[o]=i.value}const t=d(l()),n={storageKey:e};t&&(n[t]=e,chrome.storage.local.set(n).then((()=>{const e=document.getElementById("status");e&&(e.textContent="Responses saved. Redirecting you back to the shopping page",setTimeout((()=>{e.textContent="";const t=l();t&&(window.location.href=t)}),2e3))})))}},u=()=>{const e=d(l());chrome.storage.local.get(e).then((t=>{if(e){const n=t[e];if(n)for(let e=1;e<4;e++){const t=c+String(e),o=s+String(e),r=document.getElementById(t),i=document.getElementById(o);r.value=n[t],i.value=n[o]}}}))};document.addEventListener("DOMContentLoaded",u);const m=document.getElementById("save");m&&m.addEventListener("click",a);const g=document.getElementById("reset");g&&g.addEventListener("click",(()=>{const e=d(l());e&&chrome.storage.local.remove(e).then((()=>{for(let e=1;e<4;e++){const t=c+String(e),n=s+String(e),o=document.getElementById(t),r=document.getElementById(n);o.value="",r.value=""}}))}));const f=document.getElementById("go_to_shopping_site");return f&&f.addEventListener("click",(()=>{const e=l();e&&(window.location.href=e)})),o})()));